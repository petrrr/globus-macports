# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                igtf-certificates
version             1.52
categories          security
platforms           darwin
maintainers         nikhef.nl:dennisvd openmaintainer

#license            (check)

description         The trusted IGTF CA-certificates

#long_description   (none)

homepage            http://www.igtf.net

master_sites        http://dist.eugridpma.info/distribution/igtf/${version}
distname            igtf-policy-installation-bundle-${version}

checksums           md5     7ca4dc745e7f220ec05280b053ba2b33 \
                    rmd160 7a98be1b7070a701bff262638f484bdcaca5681e \
                    sha256 3de95c40b32345cf6b07f4def744dc7d7502e73b494dd165a4067e6d5356793a

configure.args-append \
	--with-profile=classic \
	--with-profile=slcs \
	--with-profile=mics \
	--prefix=${destroot}/${prefix}/etc/grid-security/certificates

build {}

post-destroot { 
    # symlink GLOBUS_LOCATION/share/certificates to the igtf distribution
    # so tools automatically find the CAs
    ln -s ${prefix}/etc/grid-security/certificates ${destroot}${prefix}/share/
}
